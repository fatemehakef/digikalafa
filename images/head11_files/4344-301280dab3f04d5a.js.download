(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4344],{58814:function(t,e,o){"use strict";o.d(e,{V:function(){return N}});var a=o(66383),r=o(82193),n=o(2784),i=o(42427),l=o(72273),s=o(42772),d=o(63754),c=o(91284),u=o(56309),v=o(4267),h=o(37989),f=o(19602),p=o(61886),m=o(49870),g=function(t){var e=t.url;return"https://www.facebook.com/sharer.php?u=".concat(e)},b=function(t){var e=t.url,o=t.title,a=t.hashtags,r=void 0===a?"digikala":a;return"https://twitter.com/intent/tweet?url=".concat(e,"&text=").concat(o,"&hashtags=").concat(r)},w=function(t){var e=t.title,o=t.url;return"https://api.whatsapp.com/send?text=".concat(e,"&").concat(o)},_=function(t){t.title;var e=t.url;return"sms:body=".concat(e)},x=o(3662),j=o(94309);var M=(0,x.q)({url:"digiclub/referral/get-voucher/",transformer:function(t){var e,o=t.data;return(0,j.Y)({voucherCode:null===o||void 0===o||null===(e=o.voucher)||void 0===e?void 0:e.code})}}),k=o(59209),y=o.n(k);function N(t){var e=t.showModal,o=t.onClose,x=t.shareUrls,j=t.hasDiscountCode,k=void 0===j||j,N=t.shareMessage,z=void 0===N?"\u0627\u06cc\u0646 \u06a9\u0627\u0644\u0627 \u0631\u0627 \u0628\u0627 \u062f\u0648\u0633\u062a\u0627\u0646 \u062e\u0648\u062f \u0628\u0647 \u0627\u0634\u062a\u0631\u0627\u06a9 \u0628\u06af\u0630\u0627\u0631\u06cc\u062f!":N,C=(0,p.e)().redirect,L=(0,s.v9)(d.p.isLoggedIn),O=(0,n.useState)(""),S=O[0],U=O[1],E=(0,n.useState)(""),R=E[0],T=E[1],P=(0,a.Z)((0,u.m)(),2),D=P[0],I=P[1],B=(0,a.Z)((0,u.m)(),2),F=B[0],J=B[1],V=(0,c.C)().isDesktop,Z=(0,n.useState)(!1),A=Z[0],W=Z[1],q=(0,m.V)({apiMethod:M,disabled:!(L&&A)}),H=q.data,K=q.pending,Q=null===H||void 0===H?void 0:H.voucherCode;(0,n.useEffect)((function(){U((null===x||void 0===x?void 0:x.shareUrl)||window.location.href)}),[]),(0,n.useEffect)((function(){if(T(S),Q){var t="\n        \u0633\u0644\u0627\u0645. \u0645\u0646 \u062e\u0631\u06cc\u062f \u0627\u06cc\u0646 \u0645\u062d\u0635\u0648\u0644 \u0627\u0632 \u062f\u06cc\u062c\u06cc\u200c\u06a9\u0627\u0644\u0627 \u0631\u0627 \u0628\u0647 \u0634\u0645\u0627 \u067e\u06cc\u0634\u0646\u0647\u0627\u062f \u0645\u06cc\u200c\u06a9\u0646\u0645. \u0627\u06af\u0631 \u0627\u0648\u0644\u06cc\u0646 \u0628\u0627\u0631 \u0627\u0633\u062a \u0627\u0632 \u062f\u06cc\u062c\u06cc\u200c\u06a9\u0627\u0644\u0627 \u062e\u0631\u06cc\u062f \u0645\u06cc\u200c\u06a9\u0646\u06cc\u062f \u0645\u06cc\u200c\u062a\u0648\u0627\u0646\u06cc\u062f \u0627\u0632 \u0627\u06cc\u0646 \u06a9\u062f \u062a\u062e\u0641\u06cc\u0641 \u0627\u0633\u062a\u0641\u0627\u062f\u0647 \u06a9\u0646\u06cc\u062f ".concat(Q,"\n        ").concat(S,"\n      ");T(t)}}),[Q,S]);var X={copyBtnClass:(0,i.d)("text-button-2 color-900 w-full py-3",y()["shareModal__button--copyBtn"]),twitter:(0,i.d)("text-button-1 color-000 w-full pointer",y()["shareModal__button--twitter"]),whatsapp:(0,i.d)("text-button-1 color-000 w-full pointer",y()["shareModal__button--whatsapp"]),facebook:(0,i.d)("text-button-1 color-000 w-full pointer",y()["shareModal__button--facebook"])};return(0,r.jsx)(h.u,{isOpen:e,onDismiss:o,headerTitle:"\u0627\u0634\u062a\u0631\u0627\u06a9\u200c\u06af\u0630\u0627\u0631\u06cc",hasHeaderBottomShadow:!1,children:(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:(0,i.d)("pb-4",{"border-b-200":k}),children:[(0,r.jsx)("p",{className:"text-body-1",children:z}),(0,r.jsx)("div",{className:"d-grid col-auto gap-4 mt-4",children:(0,r.jsxs)(v.z,{mode:"outlined",color:"black",className:X.copyBtnClass,onClick:function(){var t=(null===x||void 0===x?void 0:x.shareUrl)||(null===window||void 0===window?void 0:window.location.href)||"",e=decodeURIComponent(t);I(e)},children:[(0,r.jsx)(l.J,{icon:"copy",size:20,className:"ml-2"}),D||"\u06a9\u067e\u06cc \u06a9\u0631\u062f\u0646 \u0644\u06cc\u0646\u06a9"]})}),(0,r.jsxs)("div",{className:"d-grid grid-cols-2 grid-rows-2 gap-4 mt-4",children:[(0,r.jsxs)(v.z,{mode:"neutralOutlined",color:"white",size:"large",to:(null===x||void 0===x?void 0:x.shareWhatsappUrl)||w({title:R,url:S}),className:X.whatsapp,children:[(0,r.jsx)(l.J,{icon:"whatsapp",size:24,color:"white",className:"ml-2"}),"\u0648\u0627\u062a\u0633\u200c\u0627\u067e"]}),(0,r.jsxs)(v.z,{mode:"neutralOutlined",color:"white",size:"large",to:(null===x||void 0===x?void 0:x.shareTwitterUrl)||b({url:S,title:R}),className:X.twitter,children:[(0,r.jsx)(l.J,{icon:"twitter",size:24,color:"white",className:"ml-2"}),"\u062a\u0648\u06cc\u06cc\u062a\u0631"]}),(0,r.jsxs)(v.z,{mode:"neutralOutlined",color:"white",size:"large",to:(null===x||void 0===x?void 0:x.shareFacebookUrl)||g({url:S}),className:X.facebook,children:[(0,r.jsx)(l.J,{icon:"facebook",size:24,color:"white",className:"ml-2"}),"\u0641\u06cc\u0633\u0628\u0648\u06a9"]}),!V&&(0,r.jsxs)(v.z,{mode:"filled",color:"red",padding:!0,size:"large",to:_({title:R,url:S}),className:"text-button-1 color-000 w-full pointer",children:[(0,r.jsx)(l.J,{icon:"sms",size:24,color:"white",className:"ml-2"}),"\u067e\u06cc\u0627\u0645\u06a9"]})]})]}),!!k&&(0,r.jsxs)("div",{className:"pos-relative d-flex-lg jc-center ai-center mt-4",children:[(0,r.jsxs)("div",{className:"pos-relative z-4",children:[(0,r.jsx)("p",{className:"text-button-2 color-800",children:"\u06a9\u062f \u062a\u062e\u0641\u06cc\u0641 \u0634\u0645\u0627"}),(0,r.jsxs)("p",{className:(0,i.d)("text-body-2 color-800 mt-2",y().shareModal__voucherText),children:["\u06a9\u062f \u0631\u0627 \u0628\u0631\u0627\u06cc \u062f\u0648\u0633\u062a\u0627\u0646 \u062e\u0648\u062f \u0628\u0641\u0631\u0633\u062a\u06cc\u062f \u0648 \u067e\u0633 \u0627\u0632",(0,r.jsx)("br",{}),"\u0627\u0648\u0644\u06cc\u0646 \u062e\u0631\u06cc\u062f \u0622\u0646\u0647\u0627\u060c \u06a9\u062f \u062a\u062e\u0641\u06cc\u0641 \u0648 \u0627\u0645\u062a\u06cc\u0627\u0632 \u0628\u06af\u06cc\u0631\u06cc\u062f!"]}),Q?(0,r.jsxs)(v.z,{mode:"outlined",color:"gray",padding:!1,className:"mt-7 mt-6-lg py-2 px-4",onClick:function(){return J(Q)},children:[(0,r.jsx)(l.J,{icon:"copy",width:20,height:20,className:"ml-2"}),F||Q]}):(0,r.jsxs)(v.z,{mode:"outlined",color:"red",padding:!1,className:"mt-7 mt-6-lg py-2 px-4",onClick:function(){L?L&&!Q&&W(!0):C({toLoginRegisterRoute:!0,withBackUrl:!0})},isLoading:K,children:[(0,r.jsx)(l.J,{icon:"voucher",size:24,color:"primary",className:"ml-2"}),"\u062f\u0631\u06cc\u0627\u0641\u062a \u06a9\u062f \u062a\u062e\u0641\u06cc\u0641"]})]}),(0,r.jsx)("div",{className:"pos-absolute left-0 top-0 d-flex jc-end d-block-lg pos-relative-lg z-0",children:(0,r.jsx)(f.E,{src:"/statics/img/svg/share-modal.svg",width:"151",height:"162",alt:"\u0627\u0634\u062a\u0631\u0627\u06a9"})})]})]})})}},49870:function(t,e,o){"use strict";o.d(e,{V:function(){return u}});var a=o(50930),r=o(49857),n=o(5632),i=o(2784),l=o(46191),s=o(61460),d=o(37011);function c(t){return function(e,o,a){var r=(0,i.useRef)(),n=t(e,o,a);(0,i.useEffect)((function(){void 0!==n.data&&(r.current=n.data)}),[n.data]);var l=(0,i.useCallback)((function(){r.current=void 0}),[]),s=void 0===n.data?r.current:n.data,d=void 0===n.data&&void 0!==r.current;return Object.assign({},n,{data:s,isLagging:d,resetLaggy:l})}}function u(t){var e=t.apiMethod,o=t.apiData,u=t.dependencies,v=t.onSuccess,h=void 0===v?function(){}:v,f=t.onError,p=void 0===f?function(){}:f,m=t.revalidateIfStale,g=void 0!==m&&m,b=t.revalidateOnMount,w=void 0===b||b,_=t.revalidateOnFocus,x=void 0!==_&&_,j=t.revalidateOnReconnect,M=void 0!==j&&j,k=t.disabled,y=t.initialValue,N=k?"disabled":null===e||void 0===e?void 0:e.url,z=((0,d.m)(N)?N(o):N)+(0,s.C)(o),C=(0,n.useRouter)().isReady&&!k,L=(0,l.b6)(),O=(0,i.useState)(y||{})[0],S=function(){return e(o)},U=(0,i.useMemo)((function(){return[z].concat((0,a.Z)(u||[]))}),[u,z]),E=(0,r.ZP)(C?U:null,S,{onError:p,revalidateIfStale:g,revalidateOnMount:w,revalidateOnFocus:x,revalidateOnReconnect:M,fallbackData:O,use:[c],shouldRetryOnError:!1}),R=E.data,T=E.error,P=E.mutate,D=E.isValidating,I=!T&&!R&&!!z&&!k||D&&!k;return(0,i.useEffect)((function(){!L&&!R||I||null===h||void 0===h||h(R)}),[R,I]),{data:R,pending:I,hasError:!!T,reload:function(){return P(S)},setPageData:function(t){return P(t,!1)}}}e.Z=u},56309:function(t,e,o){"use strict";o.d(e,{m:function(){return r}});var a=o(2784),r=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"\u06a9\u067e\u06cc \u0634\u062f",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"\u0645\u062c\u062f\u062f\u0627 \u062a\u0644\u0627\u0634 \u06a9\u0646\u06cc\u062f",o=(0,a.useState)(""),r=o[0],n=o[1],i=function(o){var a,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=!!(null===navigator||void 0===navigator?void 0:navigator.permissions)&&!!(null===navigator||void 0===navigator||null===(a=navigator.clipboard)||void 0===a?void 0:a.writeText);i&&!r?i&&(navigator.clipboard.writeText(o).then((function(){return n(t)}),(function(){return n(e)})),setTimeout((function(){n("")}),5e3)):l(o)},l=function(o){var a=document.createElement("textarea");a.value=o,a.style.top="0",a.style.left="0",a.style.position="fixed",document.body.appendChild(a),a.focus(),a.select();try{var r=document.execCommand("copy");n(r?t:e)}catch(i){n(e)}document.body.removeChild(a),setTimeout((function(){n("")}),5e3)};return[r,i]}},41185:function(t,e,o){"use strict";o.d(e,{r:function(){return r}});var a=o(55512);function r(t){var e,o,r,n,i=t.data||{},l=i.public_list_url,s=i.invitation_link,d=i.social_media,c=i.twitter,u=i.whatsapp,v=i.telegram,h=i.facebook;return{shareUrl:(0,a.f)({data:l||s}),shareTwitterUrl:(0,a.f)({data:(null===d||void 0===d||null===(e=d.twitter)||void 0===e?void 0:e.url)||c}),shareWhatsappUrl:(0,a.f)({data:(null===d||void 0===d||null===(o=d.whatsapp)||void 0===o?void 0:o.url)||u}),shareTelegramUrl:(0,a.f)({data:(null===d||void 0===d||null===(r=d.telegram)||void 0===r?void 0:r.url)||v}),shareFacebookUrl:(0,a.f)({data:(null===d||void 0===d||null===(n=d.facebook)||void 0===n?void 0:n.url)||h})}}},79058:function(t,e,o){"use strict";function a(t){var e=t.component,o=t.getAPIMethods,a=t.layoutProps,r=t.isPrivate,n=t.noDefaultLoader,i=t.pageActivatorFeature,l=t.redirectIfLogin,s=t.afterLogin,d=t.disableSSR,c=t.dataProps;return e.getAPIMethods=o,e.layoutProps=a,e.isPrivate=r,e.noDefaultLoader=n,e.pageActivatorFeature=i,e.redirectIfLogin=l,e.afterLogin=s,e.disableSSR=d,e.dataProps=c,e}o.d(e,{D:function(){return a}})},59209:function(t){t.exports={"shareModal__button--whatsapp":"shareModal_shareModal__button--whatsapp__kK37f","shareModal__button--twitter":"shareModal_shareModal__button--twitter__OuLFb","shareModal__button--facebook":"shareModal_shareModal__button--facebook__hQI05","shareModal__button--copyBtn":"shareModal_shareModal__button--copyBtn__XrL65",shareModal__voucherText:"shareModal_shareModal__voucherText__WqseH"}}}]);