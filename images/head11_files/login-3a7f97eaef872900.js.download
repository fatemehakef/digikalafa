(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9861],{13421:function(e,t){"use strict";t.parse=function(e,t){if("string"!==typeof e)throw new TypeError("argument str must be a string");for(var n={},o=t||{},i=e.split(";"),a=o.decode||r,u=0;u<i.length;u++){var c=i[u],l=c.indexOf("=");if(!(l<0)){var d=c.substring(0,l).trim();if(void 0==n[d]){var p=c.substring(l+1,c.length).trim();'"'===p[0]&&(p=p.slice(1,-1)),n[d]=s(p,a)}}}return n},t.serialize=function(e,t,r){var s=r||{},i=s.encode||n;if("function"!==typeof i)throw new TypeError("option encode is invalid");if(!o.test(e))throw new TypeError("argument name is invalid");var a=i(t);if(a&&!o.test(a))throw new TypeError("argument val is invalid");var u=e+"="+a;if(null!=s.maxAge){var c=s.maxAge-0;if(isNaN(c)||!isFinite(c))throw new TypeError("option maxAge is invalid");u+="; Max-Age="+Math.floor(c)}if(s.domain){if(!o.test(s.domain))throw new TypeError("option domain is invalid");u+="; Domain="+s.domain}if(s.path){if(!o.test(s.path))throw new TypeError("option path is invalid");u+="; Path="+s.path}if(s.expires){if("function"!==typeof s.expires.toUTCString)throw new TypeError("option expires is invalid");u+="; Expires="+s.expires.toUTCString()}s.httpOnly&&(u+="; HttpOnly");s.secure&&(u+="; Secure");if(s.sameSite){switch("string"===typeof s.sameSite?s.sameSite.toLowerCase():s.sameSite){case!0:u+="; SameSite=Strict";break;case"lax":u+="; SameSite=Lax";break;case"strict":u+="; SameSite=Strict";break;case"none":u+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return u};var r=decodeURIComponent,n=encodeURIComponent,o=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function s(e,t){try{return t(e)}catch(r){return e}}},19401:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/users/login",function(){return r(64733)}])},80232:function(e,t,r){"use strict";r.d(t,{W:function(){return c}});var n=r(70865),o=r(82193),s=r(2784),i=r(13980),a=r.n(i),u=r(4400),c=function(e){var t=(0,s.useState)(!1),r=t[0],i=t[1];return(0,o.jsx)(u.I,(0,n.Z)({type:r?"text":"password",leftIcon:r?"visibilityOff":"visibilityOn",leftIconOnClick:function(e){e.stopPropagation(),i((function(e){return!e}))}},e))};c.propTypes={label:a().string,className:a().string,helper:a().string,error:a().oneOfType([a().string,a().bool]),isRequired:a().bool,disabled:a().bool,form:a().any}},64733:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return B}});var n=r(2784),o=r(82193),s=r(70865),i=r(13980),a=r.n(i),u=r(35819),c=r(4400),l=r(4267),d=r(69016),p=r(94332),f=r(3662),m=r(94309),h={password:u.eo.PASSWORD,otp:u.eo.OTP};var v=(0,f.q)({type:p.XN.POST,url:"user/authenticate/",transformer:function(e){var t=e.data;return(0,m.Y)({hasPassword:t.has_password,hasAccount:t.has_account,loginMethod:h[t.login_method],timer:t.sms_ttl,username:t.phone})},inputTransformer:function(e){return{username:(null===e||void 0===e?void 0:e.username)||(null===e||void 0===e?void 0:e.phone),otp_call:(null===e||void 0===e?void 0:e.otpCall)||!1,force_send_otp:null===e||void 0===e?void 0:e.forceSendOtp}}}),g=r(71428),w=r(47061),x=r(31881),y=r(10038),S=r(98680),b=function(e){var t=e.setStep,r=e.setResponse,n=e.setUsername,s=(0,g.E)({apiMethod:v}),i=s.request,a=s.pending;return(0,o.jsxs)("div",{className:"w-full",children:[(0,o.jsx)("h1",{className:"text-h4 color-900 align-right w-full mt-4",children:"\u0648\u0631\u0648\u062f | \u062b\u0628\u062a\u200c\u0646\u0627\u0645"}),(0,o.jsx)("p",{className:"text-body-2 color-700 mt-4 align-right w-full",children:"\u0633\u0644\u0627\u0645!"}),(0,o.jsx)("p",{className:"text-body-2 color-700 mb-4 align-right w-full",children:"\u0644\u0637\u0641\u0627 \u0634\u0645\u0627\u0631\u0647 \u0645\u0648\u0628\u0627\u06cc\u0644 \u06cc\u0627 \u0627\u06cc\u0645\u06cc\u0644 \u062e\u0648\u062f \u0631\u0627 \u0648\u0627\u0631\u062f \u06a9\u0646\u06cc\u062f"}),(0,o.jsx)(S.l,{useFormProps:{mode:"onBlur"},onSubmit:function(e){n(e.username.trim()),i({username:e.username.trim()}).then((function(e){if(r(e),!e.hasAccount)return t(u.wN.register);t(e.loginMethod===u.eo.PASSWORD?u.wN.password:u.wN.otp)}))},items:[{component:(0,o.jsx)(c.I,{autoFocus:!0,inputWrapperProps:{fullWidth:!0}}),name:"username",defaultValue:"",rules:{required:x.Qt,validate:w.jI}},{component:(0,o.jsx)(l.z,{type:"submit",color:"red",size:"large",mode:"filled",className:"w-full mt-6 mt-8-lg text-button-1",isLoading:a,CROId:"login-register",children:"\u0648\u0631\u0648\u062f"})}]}),(0,o.jsxs)("p",{className:"text-caption color-700 mt-4",children:["\u0648\u0631\u0648\u062f \u0634\u0645\u0627 \u0628\u0647 \u0645\u0639\u0646\u0627\u06cc \u067e\u0630\u06cc\u0631\u0634",(0,o.jsx)(d.e,{mode:"link",href:y.A2,className:"mx-1 d-inline-block color-secondary-700",children:"\u0634\u0631\u0627\u06cc\u0637 \u062f\u06cc\u062c\u06cc\u200c\u06a9\u0627\u0644\u0627"}),"\u0648",(0,o.jsx)(d.e,{mode:"link",href:y.SL,className:"mx-1 d-inline-block color-secondary-700",children:"\u0642\u0648\u0627\u0646\u06cc\u0646 \u062d\u0631\u06cc\u0645\u200c\u062e\u0635\u0648\u0635\u06cc"}),"\u0627\u0633\u062a"]})]})};b.propTypes={setStep:a().func,setResponse:a().func};var j=r(12692),N=r(22981),k=r(80981),C=r(48697),O=r(71051),_=r(2032),T=r(41194),P=r(76757),E=function(e){var t,r=e.response,s=e.setStep,i=e.setResponse,a=(0,n.useState)(""),c=a[0],d=a[1],p=(0,j.J)({action:T.y}),f=p.request,m=p.pending,h=(0,g.E)({apiMethod:v}),y=h.request,b=h.pending,E=(0,n.useRef)(new Date),R=(0,P.c)(),A=R.ref,z=R.submit;return(0,o.jsxs)("div",{className:"w-full",children:[(0,o.jsx)("h1",{className:"text-h4 color-900 align-right w-full mt-4",children:"\u06a9\u062f \u062a\u0627\u06cc\u06cc\u062f \u0631\u0627 \u0648\u0627\u0631\u062f \u06a9\u0646\u06cc\u062f"}),(0,o.jsx)("p",{className:"text-body-2 color-700 my-4 align-right w-full",children:"\u06a9\u062f \u062a\u0627\u06cc\u06cc\u062f \u0628\u0631\u0627\u06cc \u0634\u0645\u0627\u0631\u0647 ".concat((0,N.U)(r.username)," \u067e\u06cc\u0627\u0645\u06a9 \u0634\u062f")}),(0,o.jsx)(S.l,{ref:A,onSubmit:function(e){f({username:r.username,code:(0,k.d)(e.code),type:u.eo.OTP})},items:[{component:(0,o.jsx)(_.N,{submit:z}),name:"code",defaultValue:"",rules:{validate:{numberValidation:w.AU,length5:function(e){return 5===e.length||x.VP}}}}]}),r.hasPassword&&(0,o.jsxs)(l.z,{mode:"text",color:"blue",size:"small",className:"mt-4",onClick:function(){return s(u.wN.password)},padding:!1,children:["\u0648\u0631\u0648\u062f \u0628\u0627 \u0631\u0645\u0632 \u0639\u0628\u0648\u0631",(0,o.jsx)(C.JO,{icon:"chevronLeft",size:20,color:"secondary"})]}),(0,o.jsx)(O.U,{error:c,endTime:1e3*r.timer+(null===(t=E.current)||void 0===t?void 0:t.getTime()),onResend:function(e){var t=e.otpCall,n=void 0!==t&&t;E.current=new Date,y({username:r.username,forceSendOtp:!0,otpCall:n}).then((function(e){i(e)})).catch((function(e){var t;d(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)}))},isLoading:b}),(0,o.jsx)(l.z,{type:"submit",color:"red",size:"large",mode:"filled",className:"w-full mt-4",isLoading:m,CROId:"login-verification-code",onClick:z,children:"\u062a\u0627\u06cc\u06cc\u062f"})]})};E.propTypes={response:a().any,setStep:a().func,setResponse:a().func};var R=r(61886),A=r(51863),z=r(50234),L=r(80232),q=function(e){var t=e.setStep,r=e.setResponse,n=e.response,s=e.username,i=(0,R.e)().redirect,a=(0,j.J)({action:T.y}),c=a.request,d=a.pending,p=(0,g.E)({apiMethod:v}),f=p.request,m=p.pending,h=(0,P.c)(),w=h.ref,b=h.submit;return(0,o.jsxs)("div",{className:"w-full",children:[(0,o.jsx)("h1",{className:"text-h4 color-900 align-right w-full my-4",children:"\u0631\u0645\u0632 \u0639\u0628\u0648\u0631 \u0631\u0627 \u0648\u0627\u0631\u062f \u06a9\u0646\u06cc\u062f"}),(0,o.jsx)(S.l,{ref:w,onSubmit:function(e){c({username:s,password:e.password,type:u.eo.PASSWORD}).then((function(e){(null===e||void 0===e?void 0:e.shouldConfirmPhone)&&i({url:y.ih})}))},items:[{component:(0,o.jsx)(L.W,{isRequired:!0,helper:" ",autoFocus:!0,inputWrapperProps:{fullWidth:!0}}),name:"password",defaultValue:"",rules:{required:x.gt}}]}),n.username&&(0,o.jsxs)(l.z,{type:"button",mode:"text",color:"blue",size:"small",onClick:function(){f({username:n.username,forceSendOtp:!0}).then((function(e){r(e),t(u.wN.otp)}))},className:"mt-3 p-0",padding:!1,isLoading:m,children:["\u0648\u0631\u0648\u062f \u0628\u0627 \u0631\u0645\u0632 \u06cc\u06a9\u200c\u0628\u0627\u0631\u200c\u0645\u0635\u0631\u0641",(0,o.jsx)(C.JO,{icon:"chevronLeft",size:20,color:"secondary"})]}),(0,o.jsxs)(l.z,{type:"button",mode:"text",color:"blue",size:"small",onClick:function(){(0,A.d)(z.x,n.username||s||""),i({url:y.sx})},className:"mt-3 p-0",padding:!1,children:["\u0641\u0631\u0627\u0645\u0648\u0634\u06cc \u0631\u0645\u0632 \u0639\u0628\u0648\u0631",(0,o.jsx)(C.JO,{icon:"chevronLeft",size:20,color:"secondary"})]}),(0,o.jsx)(l.z,{type:"submit",color:"red",size:"large",mode:"filled",className:"w-full mt-8",isLoading:d,onClick:b,children:"\u062a\u0627\u06cc\u06cc\u062f"})]})};q.propTypes={response:a().any,setStep:a().func,setResponse:a().func};var I=(0,f.q)({type:p.XN.POST,url:"user/register/confirm/",inputTransformer:function(e){return{username:e.username,code:e.code}}}),W=function(e){var t=e.response,r=(e.setStep,e.setResponse),s=(0,R.e)().redirect,i=(0,n.useRef)(new Date),a=(0,n.useState)(""),u=a[0],c=a[1],d=(0,P.c)(),p=d.ref,f=d.submit,m=(0,g.E)({apiMethod:v}),h=m.request,b=m.pending,j=(0,g.E)({apiMethod:I,onSuccess:function(){s({url:y.iR})}}),k=j.request,C=j.pending;return(0,o.jsxs)("div",{className:"w-full",children:[(0,o.jsx)("h1",{className:"text-h4 color-900 align-right w-full mt-4",children:"\u06a9\u062f \u062a\u0627\u06cc\u06cc\u062f \u0631\u0627 \u0648\u0627\u0631\u062f \u06a9\u0646\u06cc\u062f"}),(0,o.jsx)("p",{className:"text-body-2 color-700 my-4 align-right w-full",children:"\u062d\u0633\u0627\u0628 \u06a9\u0627\u0631\u0628\u0631\u06cc \u0628\u0627 \u0634\u0645\u0627\u0631\u0647 \u0645\u0648\u0628\u0627\u06cc\u0644\n        ".concat((0,N.U)(t.username),"\n        \u0648\u062c\u0648\u062f \u0646\u062f\u0627\u0631\u062f. \u0628\u0631\u0627\u06cc \u0633\u0627\u062e\u062a \u062d\u0633\u0627\u0628 \u062c\u062f\u06cc\u062f\u060c\u06a9\u062f \u062a\u0627\u06cc\u06cc\u062f \u0628\u0631\u0627\u06cc \u0627\u06cc\u0646 \u0634\u0645\u0627\u0631\u0647 \u0627\u0631\u0633\u0627\u0644 \u06af\u0631\u062f\u06cc\u062f.")}),(0,o.jsx)(S.l,{ref:p,onSubmit:function(e){k({username:t.username,code:e.code})},items:[{component:(0,o.jsx)(_.N,{submit:f}),name:"code",defaultValue:"",rules:{validate:{numberValidation:w.AU,length5:function(e){return 5===e.length||x.VP}}}}]}),(0,o.jsx)(O.U,{error:u,isLoading:b,endTime:1e3*t.timer+i.current.getTime(),onResend:function(e){var n=e.otpCall,o=void 0!==n&&n;i.current=new Date,h({username:t.username,forceSendOtp:!0,otpCall:o}).then((function(e){r(e)})).catch((function(e){var t;c(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.message)}))}}),(0,o.jsx)(l.z,{type:"submit",color:"red",size:"large",mode:"filled",className:"w-full mt-6 mt-8-lg",isLoading:C,onClick:f,children:"\u0627\u062f\u0627\u0645\u0647"})]})};W.propTypes={response:a().any,setStep:a().func,setResponse:a().func};var M=r(33598),U=r(42269),V=function(e){var t=e.className,r=(0,n.useState)(u.wN.auth),i=r[0],a=r[1],c=(0,n.useState)({}),l=c[0],d=c[1],p=(0,n.useState)(""),f={setStep:a,setResponse:d,response:l,username:p[0],setUsername:p[1]};return(0,o.jsxs)(U.p,{className:t,children:[(0,o.jsx)(M.G,{setStep:a,firstStep:u.wN.auth,hasBack:i!==u.wN.auth,logoHiddenInMobile:i!==u.wN.auth,isIconFixedMobile:!0}),function(){switch(i){case u.wN.auth:return(0,o.jsx)(b,(0,s.Z)({},f));case u.wN.password:return(0,o.jsx)(q,(0,s.Z)({},f));case u.wN.otp:return(0,o.jsx)(E,(0,s.Z)({},f));case u.wN.register:return(0,o.jsx)(W,(0,s.Z)({},f));default:return null}}()]})};V.propTypes={className:a().string};var D=r(56305),B=(0,r(79058).D)({component:function(){return(0,o.jsx)(V,{})},redirectIfLogin:!0,layoutProps:{type:D.B.CENTER,justify:"center"}})},42269:function(e,t,r){"use strict";r.d(t,{p:function(){return u}});var n=r(47842),o=r(82193),s=r(42427),i=r(14915),a=r.n(i);function u(e){var t=e.children,r=e.className,i=e.width,u=(0,s.d)("border-200-lg radius-medium p-5 p-8-lg","d-flex flex-column ai-center jc-start jc-center-lg",(0,n.Z)({},a().AccountWrapper__mainBox,!i),i,r);return(0,o.jsx)("div",{className:u,children:t})}},50234:function(e,t,r){"use strict";r.d(t,{m:function(){return o},x:function(){return n}});var n="forget_username",o="dk_app_install"},12692:function(e,t,r){"use strict";r.d(t,{J:function(){return d}});var n=r(70865),o=r(96670),s=r(46191),i=r(63754),a=r(42772),u=r(40830),c=r(10038),l=r(5632),d=function(e){var t=(0,a.v9)(i.p.isLoggedIn),r=(0,l.useRouter)(),d=r.asPath;return(0,s.JV)((0,o.Z)((0,n.Z)({},e),{isLoggedIn:t,redirectCallback:function(){r.replace("".concat(c.SW,"?").concat(u.hD,"=").concat(d))}}))}},51863:function(e,t,r){"use strict";r.d(t,{d:function(){return i}});var n=r(68344),o=r.n(n),s=r(24120);function i(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:360,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return o().set(n,e,t,{maxAge:24*r*60*60,path:"/",secure:!s.yG})}},14915:function(e){e.exports={AccountWrapper__mainBox:"account-wrapper_AccountWrapper__mainBox__cC78z"}},68344:function(e,t,r){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},n.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.destroyCookie=t.setCookie=t.parseCookies=void 0;var o=r(13421),s=r(43897),i=r(93496);function a(e,t){var r,n;return(null===(n=null===(r=null===e||void 0===e?void 0:e.req)||void 0===r?void 0:r.headers)||void 0===n?void 0:n.cookie)?o.parse(e.req.headers.cookie,t):i.isBrowser()?o.parse(document.cookie,t):{}}function u(e,t,r,a){var u,c;if(void 0===a&&(a={}),(null===(u=null===e||void 0===e?void 0:e.res)||void 0===u?void 0:u.getHeader)&&e.res.setHeader){if(null===(c=null===e||void 0===e?void 0:e.res)||void 0===c?void 0:c.finished)return console.warn('Not setting "'+t+'" cookie. Response has finished.'),console.warn("You should set cookie before res.send()"),{};var l=e.res.getHeader("Set-Cookie")||[];"string"===typeof l&&(l=[l]),"number"===typeof l&&(l=[]);var d=s.parse(l,{decodeValues:!1}),p=i.createCookie(t,r,a),f=[];d.forEach((function(e){if(!i.areCookiesEqual(e,p)){var t=o.serialize(e.name,e.value,n({encode:function(e){return e}},e));f.push(t)}})),f.push(o.serialize(t,r,a)),e.res.setHeader("Set-Cookie",f)}if(i.isBrowser()){if(a&&a.httpOnly)throw new Error("Can not set a httpOnly cookie in the browser.");document.cookie=o.serialize(t,r,a)}return{}}function c(e,t,r){return u(e,t,"",n(n({},r||{}),{maxAge:-1}))}t.parseCookies=a,t.setCookie=u,t.destroyCookie=c,t.default={set:u,get:a,destroy:c}},93496:function(e,t){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)};function n(e,t){var r=Object.getOwnPropertyNames(e),n=Object.getOwnPropertyNames(t);if(r.length!==n.length)return!1;for(var o=0;o<r.length;o++){var s=r[o];if(e[s]!==t[s])return!1}return!0}Object.defineProperty(t,"__esModule",{value:!0}),t.areCookiesEqual=t.hasSameProperties=t.createCookie=t.isBrowser=void 0,t.isBrowser=function(){return"undefined"!==typeof window},t.createCookie=function(e,t,n){var o=n.sameSite;!0===o&&(o="strict"),void 0!==o&&!1!==o||(o="lax");var s=r(r({},n),{sameSite:o});return delete s.encode,r({name:e,value:t},s)},t.hasSameProperties=n,t.areCookiesEqual=function(e,t){var o=e.sameSite===t.sameSite;return"string"===typeof e.sameSite&&"string"===typeof t.sameSite&&(o=e.sameSite.toLowerCase()===t.sameSite.toLowerCase()),n(r(r({},e),{sameSite:void 0}),r(r({},t),{sameSite:void 0}))&&o}},43897:function(e){"use strict";var t={decodeValues:!0,map:!1,silent:!1};function r(e){return"string"===typeof e&&!!e.trim()}function n(e,n){var o=e.split(";").filter(r),s=function(e){var t="",r="",n=e.split("=");n.length>1?(t=n.shift(),r=n.join("=")):r=e;return{name:t,value:r}}(o.shift()),i=s.name,a=s.value;n=n?Object.assign({},t,n):t;try{a=n.decodeValues?decodeURIComponent(a):a}catch(c){console.error("set-cookie-parser encountered an error while decoding a cookie with value '"+a+"'. Set options.decodeValues to false to disable this feature.",c)}var u={name:i,value:a};return o.forEach((function(e){var t=e.split("="),r=t.shift().trimLeft().toLowerCase(),n=t.join("=");"expires"===r?u.expires=new Date(n):"max-age"===r?u.maxAge=parseInt(n,10):"secure"===r?u.secure=!0:"httponly"===r?u.httpOnly=!0:"samesite"===r?u.sameSite=n:u[r]=n})),u}function o(e,o){if(o=o?Object.assign({},t,o):t,!e)return o.map?{}:[];if(e.headers&&e.headers["set-cookie"])e=e.headers["set-cookie"];else if(e.headers){var s=e.headers[Object.keys(e.headers).find((function(e){return"set-cookie"===e.toLowerCase()}))];s||!e.headers.cookie||o.silent||console.warn("Warning: set-cookie-parser appears to have been called on a request object. It is designed to parse Set-Cookie headers from responses, not Cookie headers from requests. Set the option {silent: true} to suppress this warning."),e=s}if(Array.isArray(e)||(e=[e]),(o=o?Object.assign({},t,o):t).map){return e.filter(r).reduce((function(e,t){var r=n(t,o);return e[r.name]=r,e}),{})}return e.filter(r).map((function(e){return n(e,o)}))}e.exports=o,e.exports.parse=o,e.exports.parseString=n,e.exports.splitCookiesString=function(e){if(Array.isArray(e))return e;if("string"!==typeof e)return[];var t,r,n,o,s,i=[],a=0;function u(){for(;a<e.length&&/\s/.test(e.charAt(a));)a+=1;return a<e.length}for(;a<e.length;){for(t=a,s=!1;u();)if(","===(r=e.charAt(a))){for(n=a,a+=1,u(),o=a;a<e.length&&"="!==(r=e.charAt(a))&&";"!==r&&","!==r;)a+=1;a<e.length&&"="===e.charAt(a)?(s=!0,a=o,i.push(e.substring(t,n)),t=a):a=n+1}else a+=1;(!s||a>=e.length)&&i.push(e.substring(t,e.length))}return i}}},function(e){e.O(0,[3262,9774,2888,179],(function(){return t=19401,e(e.s=t);var t}));var t=e.O();_N_E=t}]);