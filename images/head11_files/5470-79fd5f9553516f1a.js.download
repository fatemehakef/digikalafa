"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5470],{95470:function(e,t,n){n.d(t,{L:function(){return A}});var r=n(70865),i=n(96670),a=n(2784),o=n(47842),u=n(26297),l=n(66383),d=n(50930),s=n(23945),f=n(17996),c=n(56164),v=n(54651),g=n(18718),p=n(22231),Z=n(96540);var m=n(49870),h=n(40830),O=n(67280),P=n(93836);var y=n(27727),S=n(5632),C={},M={items:C,pages:C,data:{},fetched:!1};function I(e){var t=e.apiMethod,n=e.apiData,u=e.queryParams,s=e.disabled,p=void 0!==s&&s,I=e.onSuccess,x=e.onError,w=e.itemsKey,K=void 0===w?"products":w,k=e.isPagination,E=void 0!==k&&k,D=e.ssrData,F=e.notHandledByUseSSR,b=void 0!==F&&F,T=e.onPageChange,Q=(0,S.useRouter)(),V=(0,a.useRef)(null),A=(0,a.useRef)(!1),H=(0,a.useState)(u.page||1),q=H[0],N=H[1],U=(0,a.useState)(R({oldData:M,newPage:D,itemsKey:K})),L=U[0],B=U[1];(0,a.useEffect)((function(){(null===u||void 0===u?void 0:u.page)&&q!==u.page&&N(null===u||void 0===u?void 0:u.page)}),[null===u||void 0===u?void 0:u.page]);var X=(0,a.useMemo)((function(){var e=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).pager;if(!((0,Z.k)(e)||+e.pagerCurrentPage<1||+e.pagerCurrentPage>=+e.pagerTotalPages))return e.pagerCurrentPage+1}(L.data),t=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).pager;if(!((0,Z.k)(e)||+e.pagerCurrentPage<2||+e.pagerCurrentPage>=+e.pagerTotalPages))return e.pagerCurrentPage-1}(L.data);return{nextPageParam:e,hasNextPage:!!e,previousPageParam:t,hasPreviousPage:!!t}}),[L.data]),_=X.nextPageParam,j=X.hasNextPage,Y=X.previousPageParam,z=X.hasPreviousPage,G=(0,a.useMemo)((function(){return(0,r.Z)({},(0,c.s)((0,r.Z)({},n||{},u||{})))}),[n,u]),W=(0,a.useRef)(G),$=(0,a.useMemo)((function(){return(0,i.Z)((0,r.Z)({},G),(0,o.Z)({},h.tn,u.page||q))}),[G,q]),J=(0,a.useRef)(!1),ee=(0,a.useRef)(b),te=(0,a.useRef)(G),ne=p||!b&&(A.current||!ee.current||(0,y.X)(G,te.current)&&1===q),re=E||1===q||J.current||u.page,ie=function(e){if(e&&(0,f.x)(e))B((function(e){return(0,i.Z)((0,r.Z)({},e),{fetched:!0,items:re?[]:e.items})}));else{var t=function(e){var t=e.newPage,n=e.reset,a=R({oldData:(0,i.Z)((0,r.Z)({},L),{items:re||n?C:L.items}),newPage:t,itemsKey:K});return B(a),a}({newPage:e});W.current=G,J.current=!1,A.current=!1,null===I||void 0===I||I(e,t)}},ae=(0,m.V)({apiMethod:t,apiData:$,onSuccess:ie,onError:x,disabled:ne}),oe=ae.pending,ue=ae.hasError,le=ae.reload;(0,a.useEffect)((function(){(0,Z.k)(D)||b||ee.current||(ie(D),ee.current=!0,te.current=(0,r.Z)({},G))}),[D]),(0,a.useEffect)((function(){var e=function(e){var t=new URL(e,window.location.href).pathname;A.current=!(0,y.X)(V.current,t),V.current=t};return Q.events.on("routeChangeStart",e),function(){Q.events.off("routeChangeStart",e)}}),[]),(0,a.useEffect)((function(){se({page:(null===u||void 0===u?void 0:u.page)||1})}),[Q.asPath]),(0,a.useEffect)((function(){ne&&!b&&(ee.current||(0,y.X)(te.current,G))?ie(D):J.current=!(0,y.X)(G,W.current)}),[G]);var de=function(e){(0,v.h)(e)&&N(e)},se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.page,n=void 0===t?1:t,a=e.updatePageParam,o=void 0!==a&&a;B((0,i.Z)((0,r.Z)({},L),{fetched:!1,items:[]})),o?null===T||void 0===T||T(n):q===n?le():de(n)},fe=(oe||!L.fetched||J.current)&&!ue;return(0,i.Z)((0,r.Z)({},L),{items:re&&fe?C:L.items,hasError:ue,pending:fe,hasPreviousPage:z,hasNextPage:j,fetchNextPage:function(){j&&N(_)},fetchPreviousPage:function(){z&&N(Y)},fetchPage:de,addItem:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];B((function(e){var n=(0,r.Z)({},(null===e||void 0===e?void 0:e.items)||{});return t.forEach((function(e){var t=e.page,r=e.index,i=e.item;n[t]=(0,O.Q)({array:n[t],index:r,item:i})})),(0,i.Z)((0,r.Z)({},e),{items:n})}))},removeItem:function(e){var t=e.itemIndex;B((function(e){var n,a=Object.entries(null===e||void 0===e?void 0:e.items).reduce((function(e,n){var r=(0,l.Z)(n,2),i=r[0],a=r[1];return e.isFound?e:t<a.length+e.count?{page:i,index:t-e.count,isFound:!0}:{count:e.count+a.length}}),{count:0}),u=a.page,s=a.index,f=(0,i.Z)((0,r.Z)({},null===e||void 0===e?void 0:e.items),(0,o.Z)({},u,(0,d.Z)((0,P.A)({array:null===e||void 0===e||null===(n=e.items)||void 0===n?void 0:n[u],index:s}))));return(0,i.Z)((0,r.Z)({},e),{items:f})}))},updateItem:function(e){var t=e.itemIndex,n=e.newData;B((function(e){var a,u,s,f=Object.entries(null===e||void 0===e?void 0:e.items).reduce((function(e,n){var r=(0,l.Z)(n,2),i=r[0],a=r[1];return e.isFound?e:t<a.length+e.count?{page:i,index:t-e.count,isFound:!0}:{count:e.count+a.length}}),{count:0}),c=f.page,v=f.index,p=(0,i.Z)((0,r.Z)({},null===e||void 0===e?void 0:e.items),(0,o.Z)({},c,(0,d.Z)(function(e){var t=e.array,n=void 0===t?[]:t,r=e.index,i=e.item;return(0,g.k)(n)?(0,d.Z)(n.map((function(e,t){return r===t?i:e}))):[]}({array:null===e||void 0===e||null===(a=e.items)||void 0===a?void 0:a[c],index:v,item:(0,r.Z)({},(null===e||void 0===e||null===(u=e.items)||void 0===u||null===(s=u[c])||void 0===s?void 0:s[v])||{},n)}))));return(0,i.Z)((0,r.Z)({},e),{items:p})}))},resetItems:se,page:q,apiData:$,isAPIDataChangedRef:J})}function R(e){var t,n=e.oldData,a=n.items,u=void 0===a?C:a,l=n.data,d=n.pages,s=void 0===d?C:d,f=e.newPage,c=e.itemsKey,v=(null===f||void 0===f||null===(t=f.pager)||void 0===t?void 0:t.pagerCurrentPage)||1;return{items:(0,i.Z)((0,r.Z)({},u),(0,o.Z)({},v,(null===f||void 0===f?void 0:f[c])||[])),data:x({data:f,itemsKey:c,oldData:l}),pages:(0,i.Z)((0,r.Z)({},s),(0,o.Z)({},v,v)),fetched:!(0,Z.k)(f)}}function x(e){var t=e.data,n=e.itemsKey,r=e.oldData;if(!(0,p.K)(t)||(0,g.k)(t)||(0,Z.k)(t)||(0,f.x)(t))return r;t[n];return(0,u.Z)(t,[n].map(s.Z))}var w=n(70423),K=n(78633),k=n(28978),E=n(1304),D=n(37011),F=n(82254),b=n(45618),T={isOpen:!1,filterKey:null,filterTitle:null,filterItem:null},Q={};function V(e){var t=e.defaultActiveFilters,n=void 0===t?Q:t,v=e.shouldSaveOnChange,g=e.shouldScrollOnChange,m=void 0===g||g,O=e.disableQueryParams,P=function(e){var t,a=e.activeFilters,u=void 0===a?n:a,l=e.shallow,d=e.fragment,s=(0,c.s)((0,i.Z)((0,r.Z)({},u),(t={},(0,o.Z)(t,h.uR,u[h.uR]||W[h.uR]),(0,o.Z)(t,h.fH,W[h.fH]),(0,o.Z)(t,h.tn,void 0),t)));Pe({newUrl:(0,b.m)((0,E.K)({queries:s,url:window.location.pathname}),d),scroll:m,shallow:l})},C=function(){ae(!1)},M=function(e){var t=e.shallow;C(),P({activeFilters:te,shallow:t})},I=function(){C()},R=function(){P({activeFilters:(0,o.Z)({},h.uR,ce)}),C()},x=function(){pe(!1)},V=function(){de((0,i.Z)((0,r.Z)({},te),(0,o.Z)({},h.uR,ce))),x()},A=function(){de((0,i.Z)((0,r.Z)({},te),(0,o.Z)({},h.uR,ce))),x()},H=function(){Oe(!1)},q=(0,S.useRouter)(),N=q.asPath,U=q.push,L=q.replace,B=q.query,X=q.pathname,_=q.isReady,j=(q.events,(0,a.useState)((0,r.Z)({},n))),Y=j[0],z=j[1],G=(0,a.useRef)(!1),W=(0,a.useMemo)((function(){return O?Y:(0,k.Q)(N)}),[N,Y]),$=(0,a.useMemo)((function(){W[h.uR],W[h.fH],W[h.tn];var e=(0,u.Z)(W,[h.uR,h.fH,h.tn].map(s.Z));return!(0,f.x)(e)}),[W]),J=(0,a.useMemo)((function(){return Object.entries(B).reduce((function(e,t){var n=(0,l.Z)(t,2),a=n[0],u=n[1];return-1!==X.indexOf(a)?(0,i.Z)((0,r.Z)({},e),(0,o.Z)({},a,u)):(0,r.Z)({},e)}),{})}),[X,B]),ee=(0,a.useState)(n),te=ee[0],ne=ee[1],re=(0,a.useState)(!1),ie=re[0],ae=re[1],oe=(0,a.useState)(T),ue=oe[0],le=oe[1],de=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n;return ne((function(){return(0,D.m)(e)?function(t){return(0,c.s)(e(t))}:(0,c.s)(e)}))},se=(0,a.useMemo)((function(){return!(0,y.X)(W,te)}),[te,W]),fe=null===te||void 0===te?void 0:te[h.uR],ce=null===W||void 0===W?void 0:W[h.uR],ve=(0,a.useState)(!1),ge=ve[0],pe=ve[1],Ze=(0,a.useMemo)((function(){return!(0,K.t)(ce,fe)}),[fe,ce]),me=(0,a.useState)(!1),he=me[0],Oe=me[1],Pe=function(e){var t=e.newUrl,n=e.scroll,i=e.shallow,a=void 0===i||i,o=e.appendQuery,u=void 0!==o&&o;if(O){var l=(0,k.Q)(t);return z((0,r.Z)({},u?W:Q,l)),void(n&&w.NY.scrollToTop())}G.current?(G.current=!0,n&&w.NY.scrollToTop(),U(t,void 0,{scroll:!!(null!==n&&void 0!==n?n:m),shallow:a})):L(t,void 0,{scroll:!!(null!==n&&void 0!==n?n:m),shallow:a})},ye=function(e){var t,n=e.query;Pe({newUrl:(0,E.K)({queries:(t={},(0,o.Z)(t,h.fH,n),(0,o.Z)(t,h.tn,void 0),t),url:window.location.pathname}),scroll:!0})},Se=function(){var e=(0,c.s)((0,r.Z)({},n||Q,W));de(e)};(0,a.useEffect)((function(){Se()}),[N,Y]);var Ce=(0,a.useMemo)((function(){return(0,F.S)(N)}),[N]);return{filterExtra:ue,activeFilters:te,filterOnClick:function(e){var t=e.isAccordion,n=e.filterKey,i=e.filterItem,a=e.filterType,u=e.filterTitle,l=e.filterOptionId,s=e.filterOptionMax,c=e.filterOptionMin,g=e.filterOptionValueMin,m=e.filterOptionValueMax,O=e.shouldSendDataToServer,y=e.shallow;if(t)le((function(e){var t=e.isOpen,r=e.filterKey;return{isOpen:!(t&&(0,K.t)(n,r)),filterTitle:u,filterKey:n,filterItem:i}}));else{var S=function(e){var t,n=e.filterKey,i=e.filterType,a=e.activeFilters,u=e.filterOptionId,l=e.filterOptionMin,s=e.filterOptionMax,c=e.filterOptionValueMin,v=e.filterOptionValueMax,g=(0,p.K)(n),m=g?n.keyId:n,O=null===n||void 0===n?void 0:n.keyCode,P=(null===a||void 0===a?void 0:a[O])||Q,y=g?null===(t=a[O])||void 0===t?void 0:t[m]:a[n];if((0,K.t)(h.kQ.CHECKBOX,i)){var S=function(e){var t,n=e.filterOptionId,r=e.filterItem,i=e.filterKey;if(null===r||void 0===r||null===(t=r.find)||void 0===t?void 0:t.call(r,(function(e){return(0,K.t)(e,n)}))){var a,u=null===r||void 0===r||null===(a=r.filter)||void 0===a?void 0:a.call(r,(function(e){return!(0,K.t)(e,n)}));return(0,o.Z)({},i,(0,f.x)(u)?void 0:u)}return(0,o.Z)({},i,(0,d.Z)(r||[]).concat([n]))}({filterItem:y,filterKey:m,filterOptionId:u});return(0,r.Z)({},a||Q,g?(0,o.Z)({},O,(0,r.Z)({},P,S)):S)}if([h.kQ.RADIO,h.kQ.BUTTON].includes(i)){var C=function(e){var t=e.filterKey,n=e.filterOptionId;return(0,o.Z)({},t,n)}({filterItem:y,filterKey:n,filterOptionId:u});return(0,r.Z)({},a||Q,g?(0,o.Z)({},O,(0,r.Z)({},P,C)):C)}if((0,K.t)(h.kQ.SLIDER,i)){var M=function(e){var t,n=e.filterOptionMin,r=e.filterOptionMax,i=e.filterOptionValueMin,a=e.filterOptionValueMax,u=e.filterKey,l=(0,K.t)(r,a)&&(0,K.t)(n,i);return(0,o.Z)({},u,l?void 0:(t={},(0,o.Z)(t,h.LS,i),(0,o.Z)(t,h.o$,a),t))}({filterKey:n,filterOptionMax:s,filterOptionMin:l,filterOptionValueMin:c,filterOptionValueMax:v});return(0,r.Z)({},a||Q,g?(0,o.Z)({},O,(0,r.Z)({},P,M)):M)}if([h.kQ.BOOLEAN,h.kQ.SWITCH].includes(i)){var I=function(e){var t=e.filterItem,n=e.filterKey,r=e.filterOptionId;return(0,o.Z)({},n,(0,Z.k)(t)?r:void 0)}({filterItem:y,filterKey:n,filterOptionId:u});return(0,r.Z)({},a||Q,g?(0,o.Z)({},O,(0,r.Z)({},P,I)):I)}if((0,K.t)(h.kQ.CATEGORY_LIST,i)){var R=function(e){var t=e.filterKey,n=e.filterOptionId;return(0,o.Z)({},t,(0,Z.k)(n)?void 0:[n])}({filterKey:n,filterOptionId:u});return(0,r.Z)({},a||Q,g?(0,o.Z)({},O,(0,r.Z)({},P,R)):R)}return(0,r.Z)({},a||Q)}({filterKey:n,filterType:a,filterOptionId:l,filterOptionMin:c,filterOptionMax:s,filterOptionValueMin:g,filterOptionValueMax:m,activeFilters:te});O||v?P({activeFilters:S,shallow:y}):de(S)}},filterClear:R,filterIsModalOpen:ie,filterOpenModal:function(){ae(!0)},filterCloseModal:C,filterSaveChanges:M,filterCancelChanges:I,filterHasChanged:se,activeSortId:fe,submittedSortId:ce,sortOnClick:function(e){var t=e.sortOptionId;e.shouldSendDataToServer||v?(P({activeFilters:(0,i.Z)((0,r.Z)({},te),(0,o.Z)({},h.uR,t))}),x()):de((0,i.Z)((0,r.Z)({},te),(0,o.Z)({},h.uR,t)))},sortIsModalOpen:ge,sortOpenModal:function(){pe(!0)},sortCloseModal:x,sortSaveChanges:V,sortCancelChanges:A,sortHasChanged:Ze,allIsModalOpen:he,allOpenModal:function(){Oe(!0)},allCloseModal:H,allSaveChanges:function(){V(),M(),H()},allCancelChanges:function(){A(),I(),H()},allClear:function(){R(),A(),H()},onSearch:ye,onPageChange:function(e){Pe({newUrl:(0,E.K)({queries:(0,o.Z)({},h.tn,e),url:window.location.href}),scroll:m,appendQuery:!0})},searchOnClearParam:function(){ye(Q)},searchParam:W[h.fH],queryParams:W,reinitializeQueryParams:function(){Se()},urlParams:J,isReady:_,hasFilter:$,fragment:Ce,changeFragment:function(e){P({fragment:e,activeFilters:te})}}}function A(e){var t=e.apiMethod,n=e.apiData,o=e.disabled,u=e.onSuccess,l=e.onError,d=e.itemsKey,s=e.isPagination,f=e.defaultActiveFilters,c=void 0===f?{}:f,v=e.defaultActiveSort,p=void 0===v?null:v,Z=e.shouldSaveOnChange,m=e.ssrData,h=e.shouldScrollOnChange,O=e.disableQueryParams,P=e.getSSRMethods,y=e.notHandledByUseSSR,S=V({defaultActiveFilters:c,defaultActiveSort:p,shouldSaveOnChange:Z,shouldScrollOnChange:h,disableQueryParams:O,isPagination:s}),C=(0,a.useMemo)((function(){var e;return P?null===P||void 0===P||null===(e=P({query:S.urlParams||{}}))||void 0===e?void 0:e[0]:{apiMethod:t,apiData:n}}),[S.isReady,S.urlParams,n]),M=y||!!t,R=I((0,i.Z)((0,r.Z)({},C),{queryParams:S.queryParams,disabled:o,notHandledByUseSSR:M,onSuccess:u,onError:l,onPageChange:S.onPageChange,itemsKey:d,isPagination:s,ssrData:(0,g.k)(m)?null===m||void 0===m?void 0:m[0]:m}));return(0,r.Z)({},R,S)}},49870:function(e,t,n){n.d(t,{V:function(){return f}});var r=n(50930),i=n(49857),a=n(5632),o=n(2784),u=n(46191),l=n(61460),d=n(37011);function s(e){return function(t,n,r){var i=(0,o.useRef)(),a=e(t,n,r);(0,o.useEffect)((function(){void 0!==a.data&&(i.current=a.data)}),[a.data]);var u=(0,o.useCallback)((function(){i.current=void 0}),[]),l=void 0===a.data?i.current:a.data,d=void 0===a.data&&void 0!==i.current;return Object.assign({},a,{data:l,isLagging:d,resetLaggy:u})}}function f(e){var t=e.apiMethod,n=e.apiData,f=e.dependencies,c=e.onSuccess,v=void 0===c?function(){}:c,g=e.onError,p=void 0===g?function(){}:g,Z=e.revalidateIfStale,m=void 0!==Z&&Z,h=e.revalidateOnMount,O=void 0===h||h,P=e.revalidateOnFocus,y=void 0!==P&&P,S=e.revalidateOnReconnect,C=void 0!==S&&S,M=e.disabled,I=e.initialValue,R=M?"disabled":null===t||void 0===t?void 0:t.url,x=((0,d.m)(R)?R(n):R)+(0,l.C)(n),w=(0,a.useRouter)().isReady&&!M,K=(0,u.b6)(),k=(0,o.useState)(I||{})[0],E=function(){return t(n)},D=(0,o.useMemo)((function(){return[x].concat((0,r.Z)(f||[]))}),[f,x]),F=(0,i.ZP)(w?D:null,E,{onError:p,revalidateIfStale:m,revalidateOnMount:O,revalidateOnFocus:y,revalidateOnReconnect:C,fallbackData:k,use:[s],shouldRetryOnError:!1}),b=F.data,T=F.error,Q=F.mutate,V=F.isValidating,A=!T&&!b&&!!x&&!M||V&&!M;return(0,o.useEffect)((function(){!K&&!b||A||null===v||void 0===v||v(b)}),[b,A]),{data:b,pending:A,hasError:!!T,reload:function(){return Q(E)},setPageData:function(e){return Q(e,!1)}}}t.Z=f},93836:function(e,t,n){n.d(t,{A:function(){return a}});var r=n(50930),i=n(18718);function a(e){var t=e.array,n=void 0===t?[]:t,a=e.index;return(0,i.k)(n)?(0,r.Z)(n.filter((function(e,t){return a!==t}))):[]}}}]);